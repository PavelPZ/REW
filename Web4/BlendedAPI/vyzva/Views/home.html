<div class="panel panel-default lm-top-margin" ng-if="::ts.myTask.isLector">
  <div class="panel-heading">
    <h4>Studijní skupiny lektora</h4>
  </div>
  <div class="list-group">
    <a href="#" class="list-group-item" ng-repeat="group in ts.myTask.lectorGroups" ng-click="ts.gotoLector(group.groupId)"><h4>{{::group.title}}</h4></a>
  </div>
</div>

<div ng-click="::ts.debugClearProduct()">del</div>

<div class="panel panel-primary lm-top-margin home-course" ng-if="::ts.myTask.isStudent" ng-controller="collapsable as homecollapsable" >
  <div class="panel-heading" ng-click="homecollapsable.isCollapsed = !homecollapsable.isCollapsed">
    <h3>
      <span ng-if="ts.learnPlan[0].status<=1">Rozřazovací test</span>
      <b ng-if="ts.learnPlan[0].status>1">Kurz úrovně {{::ts.pretestLevel | levelText}}</b>
    </h3>
    <div ng-if="ts.learnPlan[0].status>1" class="more fa fa-bars fa-lg"></div>
  </div>
  <div collapse="homecollapsable.isCollapsed" class="position-relative">
    <div class="clearfix"></div>
    <div class="close-panel fa fa-times" ng-click="homecollapsable.isCollapsed = !homecollapsable.isCollapsed"></div>
    <h1>XXXXX</h1>
    <h1>XXXXX</h1>
    <p>adsasd fas dfsad fa sdf</p>
  </div>
  <ul class="study-plan list-group">
    <li class="list-group-item" ng-repeat="lesson in ::ts.learnPlan"
        ng-style="::{cursor: lesson.rightButtonType ? 'pointer' : 'default'}"
        ng-click="::lesson.rightButtonType && ts.navigateLesson(lesson)"
        ng-class="::lesson | vyzva$home$nodeclass">
      <div ng-if="::!lesson.lessonType" ng-include="'vyzva$home$pretest.html'"></div>
      <div ng-if="::lesson.lessonType" ng-include="'vyzva$home$lesson.html'"></div>
    </li>
  </ul>
</div>

<script type="text/ng-template" id="vyzva$home$leftmark.html">
  <div class="left-mark"><i class="fa" ng-class="::lesson | vyzva$home$doneicon"></i></div>
</script>

<script type="text/ng-template" id="vyzva$home$lesson.html">
  <div ng-include="'vyzva$home$leftmark.html'"></div>
  <button class="btn btn-info right-mark" ng-if="::lesson.rightButtonType==2">Výsledky <i class="fa fa-eye"></i></button>
  <button class="btn right-mark"
          ng-class="::{'btn-success': !lesson.active, 'btn-succes-info': lesson.active}"
          ng-if="::lesson.rightButtonType==1"
          ng-disabled="api().ctx.onbehalfof">
    Spustit <i class="fa fa-play"></i>
  </button>
  <h4>
    <span ng-if="::lesson.lessonType==1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span ng-if="::lesson.lessonType==2"><i class="fa fa-line-chart"></i></span>
    {{::lesson.node.title}}
  </h4>
</script>

<script type="text/ng-template" id="vyzva$home$pretest.html">
  <div ng-include="'vyzva$home$leftmark.html'"></div>
  <div data-ng-if="::lesson.status<2">
    <p>
      <button class="btn btn-success btn-lg" ng-disabled="api().ctx.onbehalfof" data-ng-click="::ts.navigateLesson(lesson)">
        {{::lesson.status==0 ? 'Začněte spuštěním testu' : 'Dokončete test'}}
      </button>
    </p>
    Test určí vaši jazykovou úroveň (A1, A2, B1 nabo B2), na základě které se zvolí odpovídající pokračování vašeho kurzu.
  </div>
  <div data-ng-if="::lesson.status>=2">
    <h4><i class="fa fa-line-chart"></i> Test dokončen: vaše jazyková úroveň je {{::ts.pretestLevel | levelText}}</h4>
    <div class="btn-group right-mark">
      <button type="button" ng-repeat="level in ::ts.pretestLevels" class="btn btn-info btn-sm" ng-click="::ts.navigatePretestLevel(level)">{{level | levelText}} <i class="fa fa-eye"></i></button>
    </div>
  </div>
</script>

